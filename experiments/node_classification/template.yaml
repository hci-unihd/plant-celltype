_internal_variables:
  - &home_path !home_path
  - &root !join [*home_path, '/data/ovules/ovules-celltype-dataset/']
  - &force_process false
  - &num_workers 4
  - &raw_transform_config !load 'experiments/node_classification/dataset_default.yaml'

mode: NodesClassification
seed: 0

logs:
  save_dir: !join [*home_path, '/results/plant-ct-logs/baseline/']

trainer:
  gpus: 1
  # max_steps: 15000
  max_epochs: 100

loader:
  mode: simple # simple or cross_validation
  train_dataset:
    root: *root
    phase: train
    ratio: [0.7, 0.3, 0]
    grs: [label_grs_surface]
    force_process: *force_process
    raw_transform_config: *raw_transform_config

  val_dataset:
    root: *root
    phase: val
    ratio: [0.7, 0.3, 0]
    grs: [label_grs_surface]
    force_process: *force_process
    raw_transform_config: *raw_transform_config

  num_workers: *num_workers
  train_batch_size: 1
  val_batch_size: 1

module:
  logger:
    log_points: false

  optimizer:
    lr: 1e-3
    wd: 0

  model:
    kwargs:
      out_features: 9