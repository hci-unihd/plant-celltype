_internal_variables:
  - &home_path !home_path
  - &grs es_pca_grs # trivial_grs, es_trivial_grs, es_pca_grs, label_grs_surface, label_grs_funiculum

# parameters to change
input_file: &in_files !join [*home_path, '/data/ovules/tejasvinee_samples/cell_type/cell_segmentation/1137*']
output_directory: &out_dir !join [*home_path, '/data/ovules/tejasvinee_samples/cell_type/', *grs]
model_directory: &model_dir !join [*home_path, '/hci/results/plant-ct-logs/ablation/grs_importance/DeeperGCN_train:label_grs_surface_label_grs_funiculum_es_trivial_grs_es_pca_grs_test:label_grs_surface/split0/version_0']


preprocessing:
  state: true
  train_data_voxels_size: [0.25, 0.2, 0.2]
  default_seg_key: 'segmentation'
  file_list: *in_files
  out_dir: *out_dir

grs_step:
  state: true
  mode: *grs
  file_list: !join [*out_dir, '/*']

advanced_features_step:
  state: true
  skip_unused: true
  file_list: !join [*out_dir, '/*']

ct_predictions:
  state: true
  mode: 'NodesClassification'
  save_h5_predictions: true

  loader:
    mode: files
    files_list: !join [*out_dir, '/*']

  checkpoint: *model_dir
